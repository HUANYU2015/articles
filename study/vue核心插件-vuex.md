# vuex

## 参考

[知乎][a]

[官网vuex][b]

[a]:https://zhuanlan.zhihu.com/p/25701238
[b]:https://vuex.vuejs.org/zh/

## 安装

我们在使用Vue-Cli这个脚手架工具搭建vue项目时，会自动帮助我们配置好NPM的package.json文件，这个文件里包含了这个Vue项目所用依赖的包。

但是默认情况下，这个脚手架工具并没有为我们将Vuex这个依赖包包含进去，所以需要我们手动`声明`一下我们这个vue项目中需要依赖Vuex这个包。

通常有两种方法：

- 直接修改package.json
- 使用下面的命令声明

~~~ shell
npm install vuex --save
~~~

> 上面的命令表示安装vuex这个包，`--save`表示将这个依赖包与本项目的以依赖关系写入package.json中。

安装好vuex这个依赖包后，我们还需要在项目入口文件`main.js`开头添加一下两行代码：

~~~ javascript
import Vuex from 'vuex'
Vue.use(Vuex)
~~~

第一行使用到了ECMAScript语法的import将vuex包导入进来；
第二行是vue本身的插件注入语法，将插件注入vue的目的是方便我们在组件内部调用它。

## 介绍

### vuex是什么？

vuex是一个专为Vue.js应用程序开发的**状态管理模式**。它采用集中式存储管理应用的所用组件状态，并以相应的规则保证状态以一种**可预测**的方式发生变化。Vuex也集成到Vue的官方调试工具`devtools extension`，提供了诸如零配置的`time-travel`调试、状态快照导入导出等高级调试功能。

即就是，Vuex就是一个用于管理SPA项目中状态的开源产品。

### 什么是状态？为什么要去管理它？

在传统的Vue.js组件开发中，一般可变状态都是分散在各个组件中，如果需要这些状态的值，那就需要分别去不同的组件中取状态值，然后进行状态值的修改，最后还要互相读取对方的状态值。如果他们本身是父子组件，那么还可以通过事件触发或者props属性来传递状态，但是如果是不同的组件，由于Vue.js本身组件之间有组用于，它们无法直接相互通信，所以就需要一些工具如vuex去集中管理和追踪它的变化。一般这些状态以变量的形式保存在内存中，要在页面显示这些状态值，就需要用到Vue.js这种MVVM框架将状态同步到视图中。

### 什么情况下我们应该使用Vuex？

虽然Vuex可以帮助我们管理共享状态，但是也附带了更多的概念和框架。这需要对短期和长期效益进行权衡。

如果你不打算开发大型单页应用（Single Page WebApplication，SPA），使用Vuex可能是繁琐冗余的。所以如果你的应用够简单，并且他们之间并不需要大量频繁的互相读写操作，最好不要使用Vuex，一个简单的`global event bus`就足够你所需了。但是如果你需要构建一个中大型单页应用，你很有可能会考虑如何更好地在组件外部管理状态，Vuex将会成为你自然而然的选择。

## 开始

每一个Vuex应用的核心就是store（仓库）。”store”基本上就是一个容器，它包含着你的应用中的大部分的`状态（state）`。Vuex和单纯的全局对象有以下两点不同：

- Vuex的状态存储是响应式的。当Vue组件从store中读取状态的时候，若store中的状态发生变化，那么相应的组件也会相应地得到高效更新。
- 你不能直接改变store的状态，改变store中的状态的唯一途径就是显式地`提交(commit) mutation`。这样使得我们可以方便地跟踪每一个状态的改变，从而让我们能够实现一些工具帮助我们更好地了解我们的应用。

### 最简单的Store


## 核心概念

### State

### Getter

### Mutation

### Action

### Module

## 项目结构

## 插件

## 严格模式

## 表单处理

## 测试

## 热重载